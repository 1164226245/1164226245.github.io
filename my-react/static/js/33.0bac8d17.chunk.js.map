{"version":3,"sources":["scripts/views/home/index.js"],"names":["Home","connect","state","banner","getIn","middlebanner","brandbanner","smallbanner","noticebar","indexlist","props","refreshing","this","length","dispatch","getBanner","url","cb","getMiddleBanner","getBrandbanner","getSmallbanner","getNoticebar","getIndexList","className","title","style","color","autoplay","infinite","map","item","index","to","jumpUrl","key","display","width","height","src","pic","alt","verticalAlign","borderRadius","onLoad","window","dispatchEvent","Event","i","address","name","vertical","dots","dragging","swiping","tag","type","size","backgroundImage","paddingTop","paddingBottom","id","href","damping","ref","el","ptr","overflow","indicator","deactivate","direction","onRefresh","setState","setTimeout","ChangeIndexListReverse","success","goodsId","jiage","labelTwo","quanJine","xiaoliang","toFixed","comments","Component"],"mappings":"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","file":"static/js/33.0bac8d17.chunk.js","sourcesContent":["import \"./index.scss\";\r\nimport React, { Component } from \"react\";\r\n\r\nimport { Carousel, WingBlank, WhiteSpace, Accordion, List, Icon, PullToRefresh } from 'antd-mobile';\r\n\r\n//Accordion 手风情\r\n\r\n//引入head组件\r\nimport Head from \"~/components/head\";\r\n\r\n//引入axios \r\nimport { axios } from \"&\";   //从util的index里面引入axios\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\n//ui组件变容器组件  使用@connect\r\nimport { connect } from \"react-redux\";\r\nimport { getBanner, getMiddleBanner, getBrandbanner, getSmallbanner, getNoticebar, getIndexList, ChangeIndexListReverse } from \"../../actions\";\r\nimport {success} from \"&/axios\";\r\n//direction: 'vertical', // 垂直切换选项  垂直轮播\r\n@connect(\r\n    (state) => {\r\n        return {\r\n            banner: state.getIn(['data', 'banner']),\r\n            middlebanner: state.getIn(['data', 'middlebanner']),\r\n            brandbanner: state.getIn(['data', 'brandbanner']),\r\n            smallbanner: state.getIn(['data', 'smallbanner']),\r\n            noticebar: state.getIn(['data', 'noticebar']),\r\n            indexlist: state.getIn(['data', 'indexlist'])\r\n        }\r\n    }\r\n)\r\nclass Home extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            banner: [\r\n            ],\r\n            refreshing: false\r\n        }\r\n    }\r\n    //请求数据\r\n    componentDidMount() {\r\n        //使用基路径 http://localhost:1234/react/maizuo/banner\r\n        // axios.get(\"/react/maizuo/banner\").then(res => {\r\n        //     console.log(res);   //数据结果\r\n\r\n        //     this.setState({\r\n        //         banner: res.data.result\r\n        //     })\r\n        //     console.log(this.state.banner);\r\n        // })\r\n        //数据缓存\r\n        if (!this.props.banner.length > 0) {\r\n            this.props.dispatch(getBanner({\r\n                //http://localhost:4321/react/home/banner\r\n                url: \"/react/home/banner\",\r\n                cb() {\r\n\r\n                }\r\n            }))\r\n        }\r\n        if (!this.props.middlebanner.length > 0) {\r\n            this.props.dispatch(getMiddleBanner({\r\n                url: \"/react/home/middlebanner\",\r\n                cb() {\r\n\r\n                }\r\n            }))\r\n        }\r\n        //品牌热卖的轮播图\r\n        //http://localhost:4321/react/home/middlebanner\r\n        if (!this.props.brandbanner.length > 0) {\r\n            this.props.dispatch(getBrandbanner({\r\n                url: \"/react/home/brandbanner\",\r\n                cb() {\r\n\r\n                }\r\n            }))\r\n        }\r\n\r\n        //中间小图标的轮播图\r\n        if (!this.props.smallbanner.length > 0) {\r\n            this.props.dispatch(getSmallbanner({\r\n                url: \"/react/home/smallbanner\",\r\n                cb() {\r\n\r\n                }\r\n            }))\r\n        }\r\n        //获取通知栏\r\n        if (!this.props.noticebar.length > 0) {\r\n            this.props.dispatch(getNoticebar({\r\n                url: \"/react/home/noticebar\",\r\n                cb() {\r\n\r\n                }\r\n            }))\r\n        }\r\n        //获取首页列表页\r\n        if(!this.props.indexlist.length>0){\r\n            this.props.dispatch(getIndexList({\r\n                url: \"/react/home/indexlist\",\r\n                cb() {\r\n    \r\n                }\r\n            }))\r\n        }\r\n    }\r\n    render() {\r\n        const {\r\n            banner,\r\n            dispatch,\r\n            middlebanner,\r\n            brandbanner,\r\n            smallbanner,\r\n            noticebar,\r\n            indexlist,\r\n\r\n        } = this.props;\r\n        // console.log(this.props);\r\n        return (\r\n            <div className=\"h-main\">\r\n                <Head title=\"省逛_省逛优惠券\" style={{ color: \"#ffffff\" }}></Head>\r\n                {/* <h3>home-hone-主页</h3> */}\r\n                <WingBlank>\r\n                    <WhiteSpace />\r\n                    <Carousel\r\n                        autoplay={true}\r\n                        infinite\r\n                    >\r\n                        {\r\n                            banner.map((item, index) => {\r\n                                return (\r\n                                    <Link to={item.jumpUrl} key={index} style={{ display: 'inline-block', width: '100%', height: '2.0rem' }}>\r\n                                        <img\r\n                                            src={item.pic}\r\n                                            alt=\"\"\r\n                                            style={{ width: '100%', verticalAlign: 'top', height: '2.0rem', borderRadius: \".5rem\" }}\r\n                                            onLoad={() => {\r\n                                                window.dispatchEvent(new Event('resize'));\r\n                                            }}\r\n                                        />\r\n                                    </Link>\r\n                                )\r\n                            })\r\n                        }\r\n                    </Carousel>\r\n                </WingBlank>\r\n                {/* banner2  s */}\r\n                <WingBlank>\r\n                    <WhiteSpace />\r\n                    <div className=\"large_activity\">\r\n                        <div className=\"bigbanner\"></div>\r\n                        <div className=\"max_activity\">\r\n\r\n                            <a>\r\n                                <img src=\"https://img.alicdn.com/imgextra/i3/2053469401/O1CN01kNjlot2JJhzgkFwmT_!!2053469401.gif\" />\r\n                            </a>\r\n                        </div>\r\n                        <ul className=\"activity_min_group\">\r\n                            <li className=\"activity_min\">\r\n\r\n                                <img src=\"https://img.alicdn.com/imgextra/i1/2053469401/O1CN01pQusmC2JJhzq64mJf_!!2053469401.gif\" />\r\n\r\n                            </li>\r\n                            <li className=\"activity_min\">\r\n\r\n                                <img src=\"https://img.alicdn.com/imgextra/i1/2053469401/O1CN01Kh49hA2JJhzje74yw_!!2053469401.png\" />\r\n\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                </WingBlank>\r\n                {/* banner2  e */}\r\n\r\n                {/* banner 3   s */}\r\n                <WingBlank>\r\n                    <WhiteSpace />\r\n                    <div className=\"nav\">\r\n                        <ul className=\"nav_ul\">\r\n                            {\r\n                                smallbanner.map((item, i) => {\r\n                                    return (\r\n                                        <Link to=\"/\" key={i}>\r\n\r\n                                            <li>\r\n                                                <div>\r\n                                                    <img src={item.address} alt=\"\" style={{ width: \"1rem\", height: \"1rem\" }} />\r\n                                                </div>\r\n                                                <span >{item.name}</span>\r\n                                            </li>\r\n                                        </Link>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n\r\n                </WingBlank>\r\n                {/* banner 3   e */}\r\n                {/* 优惠头条  s */}\r\n                <WingBlank><hr /></WingBlank>\r\n                <WingBlank>\r\n                    <WhiteSpace />\r\n                    <div className=\"topline\">\r\n                        <div className=\"toplinelogo\">\r\n                            <img src=\"https://img.alicdn.com/imgextra/i3/2053469401/O1CN011wdOkj2JJhy7TkPFo_!!2053469401.png\" />\r\n                        </div>\r\n                        <WingBlank>\r\n\r\n                            <div className=\"noticecarouser\">\r\n                                <Carousel\r\n                                    vertical\r\n                                    dots={false}\r\n                                    dragging={false}\r\n                                    swiping={false}\r\n                                    autoplay\r\n                                    infinite\r\n                                >\r\n                                    {\r\n                                        noticebar.map((item, i) => {\r\n                                            return (\r\n                                                <Link to=\"/\" key={i}>\r\n                                                    <div className=\"v-item\"><span>{item.tag}</span>{item.name}\r\n                                                        <Icon type=\"right\" size=\"sm\" color=\"#000\" className=\"iconright\" />\r\n                                                    </div>\r\n                                                </Link>\r\n                                            )\r\n                                        })\r\n                                    }\r\n\r\n                                </Carousel>\r\n                            </div>\r\n                        </WingBlank>\r\n                    </div>\r\n                </WingBlank>\r\n\r\n                {/* 优惠头条  e */}\r\n                {/* 咚咚呛  s */}\r\n                <WingBlank>\r\n                    <div className=\"main_module_layout\" style={{ height: \"5rem\", backgroundImage: 'url(\"https://img.alicdn.com/imgextra/i4/2053469401/O1CN01Y5Yj1d2JJhzhftqMa_!!2053469401.gif\")' }}></div>\r\n                </WingBlank>\r\n                {/* 咚咚呛  e */}\r\n                {/* 品牌热卖  s */}\r\n                <WingBlank>\r\n                    <div className=\"main_module_layout\">\r\n                        <div style={{ paddingTop: ' .05rem', paddingBottom: '.05rem' }}>\r\n                            <div className=\"brand_product show_module\">\r\n                                <div className=\"title_group\">\r\n                                    <div className=\"title\">\r\n                                        <h3>品牌特卖</h3>\r\n                                        <p className=\"text-center\"><span><span className=\"brand_num\">490</span>+品牌</span></p></div><div className=\"more\"><a id=\"cms_wap_more_brand\" href=\"?r=index/brand&amp;more_brand=0\">更多品牌<i className=\"iconfont icon-youjiantou\"></i></a></div></div>\r\n                                <ul className=\"brand_product_lists\">\r\n                                    {\r\n                                        brandbanner.map((item, i) => {\r\n                                            return (\r\n                                                <Link to=\"/\" key={i}>\r\n                                                    <li className=\"brand_product_list\">\r\n                                                        <img src={item.address} alt=\"\" />\r\n                                                    </li>\r\n                                                </Link>\r\n\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </WingBlank>\r\n                {/* 品牌热卖  e */}\r\n                {/* 首页列表 s */}\r\n                <WingBlank>\r\n                    <div className=\"indexlist move2\">\r\n                        <p className=\"find_product_info text-center\">发现好货</p>\r\n                        <ul className=\"indexul\">\r\n                            <PullToRefresh\r\n                                damping={60}\r\n                                ref={el => this.ptr = el}\r\n                                style={{\r\n                                    overflow: 'auto',\r\n                                }}\r\n                                indicator={{ deactivate: '上拉刷新' }}\r\n                                direction={'down'}\r\n                                refreshing={this.state.refreshing}\r\n                                onRefresh={\r\n                                    () => {\r\n                                        this.setState({ refreshing: true });  // 正在刷新 \r\n                                        setTimeout(() => {\r\n                                            const {\r\n                                                dispatch\r\n                                            }=this.props;\r\n                                            dispatch(ChangeIndexListReverse());\r\n                                            success(\"刷新成功\")\r\n                                            this.setState({ refreshing: false });\r\n                                        }, 1000);\r\n                                    }\r\n                                }\r\n                            >\r\n                                {\r\n                                    indexlist.map((item, i) => {\r\n                                        return (\r\n                                            <Link to={\"/detail/\"+item.goodsId+\"?title=\"+item.title} key={i}>\r\n\r\n                                                <li>\r\n                                                    <img src={item.pic} alt=\"\" />\r\n                                                    <div className=\"titlename\">\r\n                                                        <h3 className=\"product_title\">\r\n                                                            <span className=\"labelTop tm\"></span>\r\n                                                            <span className=\"title_text\">{item.title}</span>\r\n                                                        </h3>\r\n                                                    </div>\r\n                                                    <div className=\"product_info\">\r\n                                                        <div className=\"price\">\r\n                                                            <span>券后&nbsp;</span>\r\n                                                            <span className=\"RMB\">¥</span>\r\n                                                            <span className=\"price_num\">{item.jiage}</span>\r\n                                                        </div>\r\n                                                        <div className=\"label_box\">\r\n                                                            <span id=\"label_box_24419759\">\r\n                                                                <span className=\"label label1\">{item.labelTwo}</span>\r\n                                                                <span className=\"juan\">\r\n                                                                    <span>劵</span>\r\n                                                                    {item.quanJine}\r\n                                                                </span>\r\n\r\n                                                            </span>\r\n                                                        </div>\r\n                                                        <div className=\"salse\">\r\n                                                            <span>{\"销量:\"+(item.xiaoliang/10000).toFixed(2)+\"万\"}</span>\r\n                                                            <span>{item.comments}</span>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </li>\r\n\r\n                                            </Link>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </PullToRefresh>\r\n                        </ul>\r\n                    </div>\r\n                </WingBlank>\r\n                {/* 首页列表  e */}\r\n            </div >\r\n        )\r\n    }\r\n}\r\nexport default Home"],"sourceRoot":""}