{"version":3,"sources":["scripts/views/chat/index.js","utils/index.js","utils/axios.js","scripts/components/head/index.js"],"names":["socket","require","Chat","props","state","friendList","chatList","userName","addInfo","myclose","fclose","name","window","prompt","Date","now","this","setState","emit","type","time","toLocaleString","on","msg","friends","newInfo","push","list","user","txt","value","refs","content","confirm","disconnect","className","title","show","id","length","map","index","key","ref","v","rows","cols","onClick","closeWindow","bind","send","Component","history","createHashHistory","baseURL","token","fail","hide","success","axios","defaults","headers","common","post","interceptors","request","use","config","loading","sessionStorage","error","offline","Promise","reject","response","console","log","data","code","Head","goBack","serach","tokenflage","mode","icon","onLeftClick","handelGoBack","rightContent","handelGoSearch","style","marginRight","Pop","scan","login","Item","visible","selected","handleVisibleChange","onSelect","opt","showActionSheet","BUTTONS","showActionSheetWithOptions","options","cancelButtonIndex","destructiveButtonIndex","message","maskClosable","wrapProps","onTouchStart","e","preventDefault","buttonIndex","src","mask","overlayClassName","overlayStyle","color","overlay","alt","align","overflow","adjustY","adjustX","offset","onVisibleChange"],"mappings":"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","file":"static/js/27.d014c8de.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport './index.scss';\r\nimport Head from \"~/components/head\";\r\n//建立与socket服务器的连接  //io.connect http://localhost:4321  ('http://localhost:8080') http://47.105.44.9:4321\r\nconst socket = require('socket.io-client')('https://huyulin.top:4321')\r\nclass Chat extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      friendList:[],\r\n      chatList:[],\r\n      userName:'',\r\n      addInfo:[],\r\n      myclose:false,\r\n      fclose:false\r\n    }\r\n  }\r\n  componentDidMount(){\r\n    let name = window.prompt('请输入昵称');\r\n    if(!name){\r\n      name = Date.now()\r\n    }\r\n    this.setState({userName:name})\r\n    //连接之后，给服务器发送昵称\r\n    socket.emit('message',{type:'online',name,time:new Date().toLocaleString()})\r\n\r\n    //接收服务器返回的朋友列表\r\n    socket.on('broadcast',(msg)=>{\r\n      this.setState({friendList:msg.friends})\r\n      // console.log(this.state.friendList)\r\n    })\r\n    //新人上线\r\n    socket.on('ON_LINE',(msg)=>{\r\n      // console.log(msg)\r\n      let newInfo = this.state.addInfo;\r\n      newInfo.push(msg)\r\n        this.setState({addInfo:newInfo})\r\n    })\r\n    //好友离开的消息提示\r\n    socket.on('CLOSE',(msg)=>{\r\n      // console.log(msg)\r\n      let newInfo = this.state.addInfo;\r\n      newInfo.push(msg)\r\n        this.setState({addInfo:newInfo})\r\n    })\r\n    //接收别人的消息\r\n    socket.on('CONTENT',(msg)=>{\r\n      let list = this.state.chatList;\r\n      list.push({user:msg.user,txt:msg.txt})\r\n      this.setState({chatList:list})\r\n    })\r\n    //监听服务器的连接\r\n    socket.on('disconnect',()=>{\r\n      this.setState({fclose:true})\r\n    })\r\n  }\r\n  //发送消息\r\n  send(){\r\n    if(this.state.myclose){  //如果用户退出，将发不出消息\r\n      return false\r\n    }else{\r\n      let value = this.refs['textbox'].value;\r\n      this.refs['textbox'].value ='';\r\n      socket.emit('message',{type:'content',content:value})\r\n      let list = this.state.chatList;\r\n      list.push({user:this.state.userName,txt:value})\r\n      this.setState({chatList:list})\r\n    }\r\n  \r\n  }\r\n  //关闭聊天窗口\r\n  closeWindow(){\r\n    if(window.confirm(\"确认要退出吗？\")){\r\n        socket.disconnect();\r\n        this.setState({myclose:true})\r\n    }\r\n  }\r\n  render() {\r\n    let {chatList,userName,addInfo,myclose,friendList,fclose} = this.state\r\n    return (\r\n      <div className=\"App\">\r\n          <Head title=\"聊天室\" show={true}></Head>\r\n        <div className='container'>\r\n            <div className='head'>亲,你来了,有什么可以帮助你的</div>\r\n            <div id=\"friends-box\">\r\n              <p>群成员 <span>{friendList.length}</span></p>\r\n              <ul id=\"friend-list\">\r\n                {\r\n                  friendList.map((name,index)=>{\r\n                        return <li key={index}><em></em><span className={name===userName?\"my\":''}>{name}</span></li>\r\n                  })\r\n                }\r\n              </ul>\r\n            </div>\r\n            <div id=\"record-box\" ref='record'>\r\n              {\r\n                addInfo.map((v,index)=>{\r\n                  return <div className='addInfo' key={index}>{v.time}   {v.txt}</div>\r\n                })\r\n              }\r\n              {\r\n                chatList.map((v,index)=>{\r\n                  if(v.user==userName){\r\n                      return <div className='right-div move-mine2' key={index} ref='chatitem'>\r\n                                <em className='photo right-photo'></em><span className='name right-name'>{v.user}</span><span className='say right-say'>{v.txt}</span>\r\n                           </div>\r\n                  }else{\r\n                      return <div className='left-div' key={index} ref='chatitem'>\r\n                                <em className='photo left-photo'></em><span className='name left-name'>{v.user}</span><span className='say left-say'>{v.txt}</span>\r\n                           </div>\r\n                  }\r\n                })\r\n              }\r\n              {myclose?<div className='addInfo'>你已退出群聊，收不到好友的消息啦</div>:\"\"}\r\n              {fclose?<div className='addInfo'>服务器断开啦</div>:\"\"}\r\n            </div>\r\n            <div id=\"send-box\">\r\n             <textarea rows=\"8\" cols=\"80\" ref='textbox'></textarea>\r\n                <div className=\"btn\">\r\n                  <button type=\"button\" name=\"close\" onClick={this.closeWindow.bind(this)}>关闭</button>\r\n                  <button type=\"button\" name=\"send\" onClick={this.send.bind(this)}>发送</button>\r\n                </div>\r\n              </div>\r\n            \r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Chat;\r\n","// es6  一个模块暴露多个接口\r\nimport url from \"url\";\r\n\r\nimport {createHashHistory} from \"history\";\r\n//再次暴露\r\n// export {msg} from \"./msg\";\r\n\r\nexport {config} from \"./config\";\r\n\r\n\r\n\r\nexport const commonCss={\r\n    init:{\r\n        padding:0,\r\n        margin:0\r\n    },\r\n    init1:{\r\n        color:\"red\",\r\n        boxShadow:\"1px 2px 3px 4px green\"\r\n    }\r\n}\r\n\r\nexport const commonEvent={\r\n    move(){\r\n    console.log(\"这是鼠标移动事件\")\r\n    },\r\n    touch(){\r\n        console.log(\"这是touch事件\")\r\n    }\r\n}\r\n\r\nexport {axios,baseURL} from \"./axios\";\r\n\r\n\r\n\r\nexport function getQuery(search){\r\n\r\n    return url.parse(search,true).query\r\n\r\n}\r\n//下面一句话相当于   history =this.PaymentResponse.history\r\nexport const history =new createHashHistory();\r\n\r\n","import axios from \"axios\";\r\nimport  {Toast} from 'antd-mobile';\r\nimport  {history}  from \"&\";\r\n// const baseURL=\"http://localhost:4321/\"; \r\n// const baseURL=\"http://47.105.44.9:4321/\"; \r\nconst baseURL=\"https://huyulin.top:4321/\"; \r\n\r\nlet token=\"\"\r\n// const baseURL=\"http://47.105.44.9:1234/\";   //http://localhost:1234/vue/movie\r\n// axios.defaults.baseURL = 'https://api.example.com';  //设置基路径\r\n axios.defaults.baseURL=baseURL;\r\n axios.defaults.headers.common['token'] =token;   //设置token AUTH_TOKEN  将token设置到请求头\r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';//将键值对的参数用&连接起来，如果有空格，将空格转换为+加号；有特殊符号，将特殊符号转换为ASCII HEX值\r\n\r\nexport  function loadingToast(msg,time) {\r\n    msg=msg||\"正在请求\";\r\n    time=time||1;\r\n    Toast.hide();  //先清空\r\n    Toast.loading(msg, time, () => {\r\n        // console.log('加载完成 !!!');\r\n      });\r\n  }\r\n\r\n//失败\r\n export function fail(msg) {\r\n    Toast.hide();  //先清空\r\n    Toast.fail(msg, 1);\r\n  } \r\n//网络原因\r\n  export function offline(msg) {\r\n    Toast.offline(msg, 1);\r\n  }\r\n\r\n//  请求成功\r\nexport  function success(msg) {\r\n    Toast.success(msg, 1);\r\n  }\r\n  \r\n//请求之前拦截   //interceptors拦截器  \r\naxios.interceptors.request.use(function (config) {\r\n    // Do something before request is sent 在发送请求之前做些什么\r\n    // console.log(\"进入请求之前拦截\");\r\n     // 配置动画\r\n     loadingToast();\r\n      token=sessionStorage.token?sessionStorage.token:\"\";\r\n    //  //设置请求头\r\n      config.headers['token']=token;  \r\n      //前端 得到 token 会把这个 token (存储到sessionStorage ) 配置 请求头 里面 request.headers.token = token  \r\n\r\n     return config;\r\n  }, function (error) {\r\n    // Do something with request error  处理请求错误\r\n    offline(\"请求失败,网络异常\")\r\n    return Promise.reject(error);\r\n  });\r\n\r\n//请求之后响应拦截\r\n  axios.interceptors.response.use(function (response) {\r\n    // Do something with response data    对响应数据做些什么\r\n    // console.log(\"进入请求之后拦截\");\r\n    console.log(response);\r\n    if(response.data.code==\"3000\"){\r\n       //  router.push({name:'login',query:{active:'login'}})\r\n       history.push(\"/login\");\r\n  }\r\n     // type  不存在    success\r\n    // type = 0  fail\r\n    // type = 1  success \r\n    //设置不同请求type类型下的数据\r\n    if(!!response.data.type){\r\n      success(response.data.msg);\r\n    }else{\r\n      if(response.data.type==0){\r\n        fail(response.data.msg);\r\n      }else{\r\n        success(response.data.msg);\r\n      }\r\n      \r\n    }\r\n    return response;\r\n  }, function (error) {\r\n    // Do something with response error   //处理响应错误\r\n    fail(\"响应失败,服务异常\")\r\n    return Promise.reject(error);\r\n  });\r\n\r\n  export {axios,baseURL} //模块暴露\r\n","import \"./index.scss\";\r\n//NavBar 导航栏\r\n//头部组件 Head\r\nimport React, { Component } from \"react\";\r\n//ActionSheet 动作面板\r\n//从底部弹出的模态框，提供和当前场景相关的 2 个以上的操作动作，也支持提供标题和描述。内置固定的展示样式、不支持特别灵活的修改。\r\n//Popover气泡\r\nimport { Popover, NavBar, Icon,ActionSheet } from 'antd-mobile';\r\n\r\nimport { history } from \"&\";\r\n\r\nexport default class Head extends Component {\r\n\r\n    //自定义函数\r\n    handelGoBack(show) {\r\n        if (show) {\r\n            // history.go(-1);\r\n            history.goBack();\r\n        }\r\n\r\n    }\r\n   \r\n    //跳搜索\r\n    handelGoSearch() {\r\n        history.push(\"/search\");  //去搜索\r\n    }\r\n    render() {\r\n        const {\r\n            title,\r\n            show,\r\n            serach\r\n        } = this.props\r\n        // console.log(this.props);\r\n        // console.log(sessionStorage.token);\r\n        var tokenflage=sessionStorage.token;\r\n        // console.log(tokenflage);\r\n        // console.log(this.history);\r\n        return (\r\n            <NavBar\r\n                mode=\"light\"\r\n                className=\"navbar\"\r\n                icon={show && <Icon type=\"left\" />}\r\n                // 主要是返回\r\n                onLeftClick={() => this.handelGoBack(show)}\r\n\r\n                rightContent={[\r\n                    !serach && <Icon onClick={this.handelGoSearch.bind(this)} key=\"0\" type=\"search\" style={{ marginRight: '16px' }} />,\r\n                    !tokenflage&&<Pop scan={this.props.scan} login={this.props.login } key={1} />,\r\n                ]}\r\n            >{title}</NavBar>\r\n        )\r\n    }\r\n}\r\n\r\nconst Item = Popover.Item;\r\nconst myImg = src => <img src={`https://gw.alipayobjects.com/zos/rmsportal/${src}.svg`} className=\"am-icon am-icon-xs\" alt=\"\" />;\r\n\r\nclass Pop extends  Component {\r\n    state = {\r\n        visible: false,\r\n        selected: '',\r\n    };\r\n    handleVisibleChange=(visible)=>{\r\n        this.setState({\r\n            visible\r\n        })\r\n\r\n    }\r\n    //气泡里面选择跳转的函数\r\n    onSelect = (opt) => {\r\n        // console.log(opt.props.value);\r\n        this.setState({\r\n          visible: false,\r\n          selected: opt.props.value,\r\n        });\r\n\r\n        if(opt.props.value==\"login\"){\r\n            history.push(\"/login\");\r\n        }else if(opt.props.value==\"scan\"){\r\n            history.push(\"/scan\");\r\n        }else{\r\n            this.showActionSheet();\r\n        }\r\n    }\r\n    showActionSheet = () => {\r\n        const BUTTONS = ['拍照', '从手机相册选择', '使用相机拍照', '删除', '取消'];\r\n        ActionSheet.showActionSheetWithOptions({\r\n          options: BUTTONS,\r\n          cancelButtonIndex: BUTTONS.length - 1,\r\n          destructiveButtonIndex: BUTTONS.length - 2,\r\n          // title: 'title',\r\n          message: '请注意查看',\r\n          maskClosable: true,\r\n          'data-seed': 'logId',\r\n          wrapProps:{\r\n            onTouchStart: e => e.preventDefault(),\r\n          }\r\n        },\r\n        (buttonIndex) => {\r\n          console.log(buttonIndex)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            scan,\r\n            login\r\n        }=this.props\r\n        return (\r\n            <Popover mask\r\n                overlayClassName=\"fortest\"\r\n                overlayStyle={{ color: 'currentColor' }}\r\n                visible={this.state.visible}\r\n                overlay={[\r\n                    // (!scan&&<Item key=\"4\" value=\"scan\" icon={myImg('tOtXhkIWzwotgGSeptou')} data-seed=\"logId\">扫一扫</Item>),\r\n                    // (<Item key=\"5\" value=\"photo\" icon={myImg('PKAgAqZWJVNwKsAJSmXd')} style={{ whiteSpace: 'nowrap' }}>拍照</Item>),\r\n                    (!login&&<Item key=\"6\" value=\"login\" icon={myImg('uQIYTFeRrjPELImDRrPt')}>\r\n                        <span style={{ marginRight: 5 }}>登录</span>\r\n                    </Item>),\r\n                ]}\r\n                align={{\r\n                    overflow: { adjustY: 0, adjustX: 0 },\r\n                    offset: [-10, 0],\r\n                }}\r\n                onVisibleChange={this.handleVisibleChange}\r\n                onSelect={this.onSelect}\r\n            >\r\n                \r\n                    <Icon type=\"ellipsis\" />\r\n               \r\n            </Popover>\r\n        )\r\n    }\r\n}\r\n"],"sourceRoot":""}