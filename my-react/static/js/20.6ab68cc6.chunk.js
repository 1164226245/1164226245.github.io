(this["webpackJsonpmy-react-project"]=this["webpackJsonpmy-react-project"]||[]).push([[20],{142:function(e,t,n){},160:function(e,t,n){"use strict";var a,o,r,i,s,c,l,u,d,f,p=n(73),h=n.n(p),m=n(96),b=n(13),g=n(97),v=(n(98),n(90)),y=n(62),O=(n(102),a=function e(){Object(b.a)(this,e),Object(m.a)(this,"commotsList",o,this),Object(m.a)(this,"defaultAddressList",r,this),Object(m.a)(this,"getCommotsList",i,this),Object(m.a)(this,"getDefaultAddrList",s,this),Object(m.a)(this,"deleteOneAddr",c,this),Object(m.a)(this,"setDefaultAddre",l,this),Object(m.a)(this,"calcelDefault",u,this),Object(m.a)(this,"modifyaddress",d,this),Object(m.a)(this,"modifyCommots",f,this)},o=Object(g.a)(a.prototype,"commotsList",[v.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),r=Object(g.a)(a.prototype,"defaultAddressList",[v.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=Object(g.a)(a.prototype,"getCommotsList",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.awrap(y.a.get(t));case 2:n=a.sent,e.commotsList=n.data.result;case 4:case"end":return a.stop()}}))}}}),s=Object(g.a)(a.prototype,"getDefaultAddrList",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.awrap(y.a.get(t));case 2:n=a.sent,console.log(n.data.result),e.defaultAddressList=n.data.result;case 5:case"end":return a.stop()}}))}}}),c=Object(g.a)(a.prototype,"deleteOneAddr",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e,t){y.a.post("/react/deleteoneaddress",{mobile:e,id:t}).then((function(e){console.log(e)}))}}}),l=Object(g.a)(a.prototype,"setDefaultAddre",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,a){y.a.post("/react/defaultChecked",{mobile:t,id:n,checked:a}).then((function(t){e.addressList=t.data.result}))}}}),u=Object(g.a)(a.prototype,"calcelDefault",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,a){y.a.post("/react/canceldefault",{mobile:t,id:n,checked:a}).then((function(t){e.addressList=e.addressList.map((function(e){return e._id==n&&(e.checked=!0!==a),e}))}))}}}),d=Object(g.a)(a.prototype,"modifyaddress",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e,t,n){y.a.post("/react/modifyaddress",{mobile:e,id:t,addresobj:n}).then((function(e){console.log(e)}))}}}),f=Object(g.a)(a.prototype,"modifyCommots",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e,t,n){y.a.post("/react/updateOneCommots",{mobile:e,id:t,content:n}).then((function(e){console.log(e)}))}}}),a);t.a=new O},202:function(e,t,n){"use strict";n(66),n(88),n(203)},203:function(e,t,n){},204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=p(n(63)),o=p(n(67)),r=p(n(58)),i=p(n(59)),s=p(n(60)),c=p(n(61)),l=p(n(64)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),d=p(n(74)),f=n(94);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&(n[a[o]]=e[a[o]])}return n};function m(){}var b=/[\uD800-\uDBFF][\uDC00-\uDFFF]|\n/g;var g=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.focus=function(){n.textareaRef.focus()},n.reAlignHeight=function(){var e=n.textareaRef;e.style.height="",e.style.height=e.scrollHeight+"px"},n.onChange=function(e){var t=e.target.value;"value"in n.props?n.setState({value:n.props.value}):n.setState({value:t});var a=n.props.onChange;a&&a(t),n.componentDidUpdate()},n.onBlur=function(e){n.debounceTimeout=setTimeout((function(){document.activeElement!==n.textareaRef&&n.setState({focus:!1})}),100);var t=e.currentTarget.value;n.props.onBlur&&(setTimeout((function(){document.body&&(document.body.scrollTop=document.body.scrollTop)}),100),n.props.onBlur(t))},n.onFocus=function(e){n.debounceTimeout&&(clearTimeout(n.debounceTimeout),n.debounceTimeout=null),n.setState({focus:!0});var t=e.currentTarget.value;n.props.onFocus&&n.props.onFocus(t)},n.onErrorClick=function(){n.props.onErrorClick&&n.props.onErrorClick()},n.clearInput=function(){n.setState({value:""}),n.props.onChange&&n.props.onChange("")},n.state={focus:!1,value:e.value||e.defaultValue||""},n}return(0,c.default)(t,e),(0,i.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t;"value"in e&&this.setState({value:(t=e.value,"undefined"===typeof t||null===t?"":t)})}},{key:"componentDidMount",value:function(){this.props.autoHeight&&this.reAlignHeight()}},{key:"componentDidUpdate",value:function(){this.props.autoHeight&&this.state.focus&&this.reAlignHeight()}},{key:"componentWillUnmount",value:function(){this.debounceTimeout&&(clearTimeout(this.debounceTimeout),this.debounceTimeout=null)}},{key:"render",value:function(){var e,t,n=this,r=this.props,i=r.prefixCls,s=r.prefixListCls,c=r.editable,p=r.style,m=r.clear,g=(r.children,r.error),v=r.className,y=r.count,O=r.labelNumber,j=r.title,w=(r.onErrorClick,r.autoHeight),C=(r.defaultValue,h(r,["prefixCls","prefixListCls","editable","style","clear","children","error","className","count","labelNumber","title","onErrorClick","autoHeight","defaultValue"])),k=C.disabled,E=this.state,L=E.value,x=E.focus,A=y>0&&this.props.rows>1,S=(0,l.default)(v,s+"-item",i+"-item",(e={},(0,o.default)(e,i+"-disabled",k),(0,o.default)(e,i+"-item-single-line",1===this.props.rows&&!w),(0,o.default)(e,i+"-error",g),(0,o.default)(e,i+"-focus",x),(0,o.default)(e,i+"-has-count",A),e)),z=(0,l.default)(i+"-label",(t={},(0,o.default)(t,i+"-label-2",2===O),(0,o.default)(t,i+"-label-3",3===O),(0,o.default)(t,i+"-label-4",4===O),(0,o.default)(t,i+"-label-5",5===O),(0,o.default)(t,i+"-label-6",6===O),(0,o.default)(t,i+"-label-7",7===O),t)),D=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(b,"_").length}(L),_={};if(y>0)if(f.IS_IOS){var T=L?L.replace(b,"_"):"",N=T?T.split("_").length-1:0;_.maxLength=y+N-D+(L?L.length:0)}else _.maxLength=y-D+(L?L.length:0);return u.createElement("div",{className:S},j&&u.createElement("div",{className:z},j),u.createElement("div",{className:i+"-control"},u.createElement("textarea",(0,a.default)({ref:function(e){return n.textareaRef=e}},_,C,{value:L,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,readOnly:!c,style:p}))),m&&c&&L&&D>0&&u.createElement(d.default,{activeClassName:i+"-clear-active"},u.createElement("div",{className:i+"-clear",onClick:this.clearInput})),g&&u.createElement("div",{className:i+"-error-extra",onClick:this.onErrorClick}),A&&u.createElement("span",{className:i+"-count"},u.createElement("span",null,L?D:0),"/",y))}}]),t}(u.Component);t.default=g,g.defaultProps={prefixCls:"am-textarea",prefixListCls:"am-list",autoHeight:!1,editable:!0,disabled:!1,placeholder:"",clear:!1,rows:1,onChange:m,onBlur:m,onFocus:m,onErrorClick:m,error:!1,labelNumber:5},e.exports=t.default},381:function(e,t,n){},494:function(e,t,n){"use strict";n.r(t);n(91);var a,o=n(92),r=n.n(o),i=(n(75),n(76)),s=n.n(i),c=(n(202),n(204)),l=n.n(c),u=(n(100),n(101)),d=n.n(u),f=n(13),p=n(14),h=n(16),m=n(15),b=n(17),g=(n(381),n(0)),v=n.n(g),y=(n(205),n(68)),O=n(62),j=(n(99),n(160)),w=n(111),C=n(65),k=Object(w.a)(a=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(h.a)(this,Object(m.a)(t).call(this))).editCommots=function(){" "==e.commentRef.state.value&&Object(C.c)("\u6ce8\u610f:\u8bc4\u8bba\u4e0d\u80fd\u4e3a\u7a7a"),console.log(e.state.good.title),O.a.post("/react/addCommots",{mobile:sessionStorage.mobile,goodsId:e.props.match.params.goodsId,title:e.state.good.title,content:e.commentRef.state.value}).then((function(e){console.log(e)})),O.c.go(0)},e.saveAddress=function(){j.a.modifyCommots({mobile:sessionStorage.mobile,id:new URLSearchParams(e.props.location.search).get("id"),content:e.commentRef.state.value})},e.state={good:{},goodsId:"",comments:[]},e}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.item,t.match,t.location,t.detail,t.dispatch,t.mobile,t.gotoshoppingcar,this.state);n.good,n.comments,j.a.commotsList;return console.log(j.a),v.a.createElement("div",null,v.a.createElement(y.a,{title:"\u5199\u8ffd\u8bc4",style:{color:"#ffffff"},show:!0}),v.a.createElement("div",{className:"detailbox"},v.a.createElement(r.a,{size:"lg"},v.a.createElement(d.a,{size:"lg"}),v.a.createElement(l.a,{placeholder:"\u60a8\u53ef\u4ee5\u8ffd\u52a0\u8bc4\u4ef7\u4e86",ref:function(t){return e.commentRef=t},onChange:this.editP,autoHeight:!0}),v.a.createElement(d.a,{size:"lg"}),v.a.createElement(s.a,{onClick:this.saveAddress,type:"ghost",size:"large",style:{backgroundColor:"#990033",color:"#FFF"}},"\u4fdd\u5b58\u8ffd\u52a0\u8bc4\u8bba"))))}}]),t}(g.Component))||a;t.default=k},62:function(e,t,n){"use strict";n(86);var a=n(6),o=n(65);n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o.a})),n.d(t,"b",(function(){return o.b}));var r=new a.b},65:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return c}));n(77);var a=n(78),o=n.n(a),r=n(69),i=n.n(r);n.d(t,"a",(function(){return i.a}));var s=n(62),c="https://huyulin.top:4321/",l="";function u(e){o.a.hide(),o.a.fail(e,1)}function d(e){o.a.success(e,1)}i.a.defaults.baseURL=c,i.a.defaults.headers.common.token=l,i.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",i.a.interceptors.request.use((function(e){var t,n;return t=t||"\u6b63\u5728\u8bf7\u6c42",n=n||1,o.a.hide(),o.a.loading(t,n,(function(){})),l=sessionStorage.token?sessionStorage.token:"",e.headers.token=l,e}),(function(e){var t;return t="\u8bf7\u6c42\u5931\u8d25,\u7f51\u7edc\u5f02\u5e38",o.a.offline(t,1),Promise.reject(e)})),i.a.interceptors.response.use((function(e){return console.log(e),"3000"==e.data.code&&s.c.push("/login"),e.data.type?d(e.data.msg):0==e.data.type?u(e.data.msg):d(e.data.msg),e}),(function(e){return u("\u54cd\u5e94\u5931\u8d25,\u670d\u52a1\u5f02\u5e38"),Promise.reject(e)}))},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));n(80);var a=n(81),o=n.n(a),r=(n(82),n(83)),i=n.n(r),s=(n(84),n(85)),c=n.n(s),l=(n(71),n(72)),u=n.n(l),d=n(13),f=n(14),p=n(16),h=n(15),m=n(17),b=(n(70),n(0)),g=n.n(b),v=n(62),y=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(f.a)(t,[{key:"handelGoBack",value:function(e){e&&v.c.goBack()}},{key:"handelGoSearch",value:function(){v.c.push("/search")}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.show,o=t.serach,r=sessionStorage.token;return g.a.createElement(c.a,{mode:"light",className:"navbar",icon:a&&g.a.createElement(u.a,{type:"left"}),onLeftClick:function(){return e.handelGoBack(a)},rightContent:[!o&&g.a.createElement(u.a,{onClick:this.handelGoSearch.bind(this),key:"0",type:"search",style:{marginRight:"16px"}}),!r&&g.a.createElement(j,{scan:this.props.scan,login:this.props.login,key:1})]},n)}}]),t}(b.Component),O=i.a.Item,j=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,selected:""},n.handleVisibleChange=function(e){n.setState({visible:e})},n.onSelect=function(e){n.setState({visible:!1,selected:e.props.value}),"login"==e.props.value?v.c.push("/login"):"scan"==e.props.value?v.c.push("/scan"):n.showActionSheet()},n.showActionSheet=function(){var e=["\u62cd\u7167","\u4ece\u624b\u673a\u76f8\u518c\u9009\u62e9","\u4f7f\u7528\u76f8\u673a\u62cd\u7167","\u5220\u9664","\u53d6\u6d88"];o.a.showActionSheetWithOptions({options:e,cancelButtonIndex:e.length-1,destructiveButtonIndex:e.length-2,message:"\u8bf7\u6ce8\u610f\u67e5\u770b",maskClosable:!0,"data-seed":"logId",wrapProps:{onTouchStart:function(e){return e.preventDefault()}}},(function(e){console.log(e)}))},n}return Object(m.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e,t=this.props,n=(t.scan,t.login);return g.a.createElement(i.a,{mask:!0,overlayClassName:"fortest",overlayStyle:{color:"currentColor"},visible:this.state.visible,overlay:[!n&&g.a.createElement(O,{key:"6",value:"login",icon:(e="uQIYTFeRrjPELImDRrPt",g.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/".concat(e,".svg"),className:"am-icon am-icon-xs",alt:""}))},g.a.createElement("span",{style:{marginRight:5}},"\u767b\u5f55"))],align:{overflow:{adjustY:0,adjustX:0},offset:[-10,0]},onVisibleChange:this.handleVisibleChange,onSelect:this.onSelect},g.a.createElement(u.a,{type:"ellipsis"}))}}]),t}(b.Component)},70:function(e,t,n){},88:function(e,t,n){"use strict";n(66),n(142)},94:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=t.canUseDOM=!("undefined"===typeof window||!window.document||!window.document.createElement);t.IS_IOS=a&&/iphone|ipad|ipod/i.test(window.navigator.userAgent)},99:function(e,t,n){"use strict";var a,o,r,i,s,c,l,u,d,f,p=n(73),h=n.n(p),m=n(96),b=n(13),g=n(97),v=(n(98),n(90)),y=n(62),O=(n(102),a=function e(){Object(b.a)(this,e),Object(m.a)(this,"addressList",o,this),Object(m.a)(this,"defaultAddressList",r,this),Object(m.a)(this,"num",i,this),Object(m.a)(this,"getAddrList",s,this),Object(m.a)(this,"getDefaultAddrList",c,this),Object(m.a)(this,"deleteOneAddr",l,this),Object(m.a)(this,"setDefaultAddre",u,this),Object(m.a)(this,"calcelDefault",d,this),Object(m.a)(this,"modifyaddress",f,this)},o=Object(g.a)(a.prototype,"addressList",[v.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),r=Object(g.a)(a.prototype,"defaultAddressList",[v.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=Object(g.a)(a.prototype,"num",[v.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=Object(g.a)(a.prototype,"getAddrList",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.awrap(y.a.get(t));case 2:n=a.sent,e.addressList=n.data.result;case 4:case"end":return a.stop()}}))}}}),c=Object(g.a)(a.prototype,"getDefaultAddrList",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n;return h.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.a.awrap(y.a.get(t));case 2:n=a.sent,console.log(n.data.result),e.defaultAddressList=n.data.result;case 5:case"end":return a.stop()}}))}}}),l=Object(g.a)(a.prototype,"deleteOneAddr",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){y.a.post("/react/deleteoneaddress",{mobile:t,id:n}).then((function(t){console.log(t),e.num=t.data.code}))}}}),u=Object(g.a)(a.prototype,"setDefaultAddre",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,a){y.a.post("/react/defaultChecked",{mobile:t,id:n,checked:a}).then((function(t){e.addressList=t.data.result}))}}}),d=Object(g.a)(a.prototype,"calcelDefault",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n,a){y.a.post("/react/canceldefault",{mobile:t,id:n,checked:a}).then((function(t){e.addressList=e.addressList.map((function(e){return e._id==n&&(e.checked=!0!==a),e}))}))}}}),f=Object(g.a)(a.prototype,"modifyaddress",[v.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e,t,n){y.a.post("/react/modifyaddress",{mobile:e,id:t,addresobj:n}).then((function(e){console.log(e)}))}}}),a);t.a=new O}}]);
//# sourceMappingURL=20.6ab68cc6.chunk.js.map