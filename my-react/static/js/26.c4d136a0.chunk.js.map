{"version":3,"sources":["scripts/views/search/index.js","utils/index.js","utils/axios.js","scripts/components/head/index.js","scripts/actions/index.js"],"names":["Search","connect","state","seracDetail","getIn","props","refreshing","keyword","this","dispatch","getSearchDetail","url","params","location","detail","search","title","show","placeholder","onSubmit","handleSubmit","bind","className","damping","ref","el","ptr","style","overflow","indicator","deactivate","direction","onRefresh","setState","setTimeout","ChangeSerchListReverse","success","map","item","i","to","goodsid","key","d_title","miaoshu","Component","history","createHashHistory","baseURL","token","fail","msg","hide","axios","defaults","headers","common","post","interceptors","request","use","config","time","loading","sessionStorage","error","offline","Promise","reject","response","console","log","data","code","push","type","Head","goBack","serach","tokenflage","mode","icon","onLeftClick","handelGoBack","rightContent","onClick","handelGoSearch","marginRight","Pop","scan","login","Item","visible","selected","handleVisibleChange","onSelect","opt","value","showActionSheet","BUTTONS","showActionSheetWithOptions","options","cancelButtonIndex","length","destructiveButtonIndex","message","maskClosable","wrapProps","onTouchStart","e","preventDefault","buttonIndex","src","mask","overlayClassName","overlayStyle","color","overlay","alt","align","adjustY","adjustX","offset","onVisibleChange","getBanner","a","async","cb","get","res","payload","result","getMobile","mobile","changeUser","getMiddleBanner","getBrandbanner","getSmallbanner","getNoticebar","getIndexList","getGoodsType","getGoodsList","ChangeGoodListReverse","ChangeIndexListReverse"],"mappings":"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","file":"static/js/26.c4d136a0.chunk.js","sourcesContent":["import \"./index.scss\";\r\nimport React, { Component } from \"react\";\r\n\r\n//引入head组件\r\nimport Head from \"~/components/head\";\r\n//SearchBar搜索框\r\nimport {\r\n    WingBlank,  //两翼留白\r\n    WhiteSpace,   //左右留白\r\n    SearchBar,\r\n    PullToRefresh    //下拉刷新\r\n\r\n} from \"antd-mobile\"\r\nimport { connect } from \"react-redux\";\r\nimport { getSearchDetail, ChangeSerchListReverse } from \"../../actions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {success} from \"&/axios\"\r\n@connect(\r\n    (state) => {\r\n        return {\r\n            seracDetail: state.getIn(['data', 'seracDetail'])\r\n        }\r\n    }\r\n)\r\nclass Search extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            // seracDetail: [],\r\n            refreshing: false\r\n        }\r\n    }\r\n    //点击后键盘回车事件  /react/classfily/search\r\n    handleSubmit(keyword) {\r\n        // console.log(keyword);\r\n        this.props.dispatch(getSearchDetail({\r\n            url: '/react/classfily/search',\r\n            params: {\r\n                keyword: keyword\r\n            }\r\n\r\n        }))\r\n    }\r\n    render() {\r\n        const {\r\n            location,\r\n            detail,\r\n            dispatch,\r\n            seracDetail\r\n\r\n        } = this.props;\r\n        // console.log(this.props);\r\n        return (\r\n            <div>\r\n                <Head search={true} title=\"搜索\" show={true}></Head>\r\n                <WingBlank>\r\n                    <SearchBar placeholder=\"请输入商品关键字\" onSubmit={this.handleSubmit.bind(this)} />\r\n                    <div className=\"serachtitle\">\r\n                    <PullToRefresh\r\n                                damping={60}\r\n                                ref={el => this.ptr = el}\r\n                                style={{\r\n                                    overflow: 'auto',\r\n                                }}\r\n                                indicator={{ deactivate: '上拉刷新' }}\r\n                                direction={'down'}\r\n                                refreshing={this.state.refreshing}\r\n                                onRefresh={\r\n                                    () => {\r\n                                        this.setState({ refreshing: true });  // 正在刷新 \r\n                                        setTimeout(() => {\r\n                                            const {\r\n                                                dispatch\r\n                                            }=this.props\r\n                                            dispatch(ChangeSerchListReverse());\r\n                                            success(\"刷新成功\")\r\n                                            this.setState({ refreshing: false });\r\n                                        }, 1000);\r\n                                    }\r\n                                }\r\n                            >\r\n                        {\r\n                            seracDetail.map((item, i) => {\r\n                                return (\r\n                                    <Link to={\"/listdetail/\" + item.goodsid + \"?title=\" + item.title} key={i}>\r\n                                    <div className=\"result move-search\" >\r\n                                        <p className=\"d_title\"><span>简介:</span>{item.d_title}</p>\r\n                                        <p className=\"title\"><span>标题:</span>{item.title}</p>\r\n                                      \r\n                                        <p \r\n                                        className=\"miaoshu\"\r\n                                        style={{\r\n\r\n                                        }}\r\n                                        ><span>商品描述:</span> {item.miaoshu}</p>\r\n                                    </div>\r\n                                    </Link>\r\n\r\n                                )\r\n\r\n                            })\r\n                        }\r\n                        </PullToRefresh>\r\n                    </div>\r\n                </WingBlank>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Search","// es6  一个模块暴露多个接口\r\nimport url from \"url\";\r\n\r\nimport {createHashHistory} from \"history\";\r\n//再次暴露\r\n// export {msg} from \"./msg\";\r\n\r\nexport {config} from \"./config\";\r\n\r\n\r\n\r\nexport const commonCss={\r\n    init:{\r\n        padding:0,\r\n        margin:0\r\n    },\r\n    init1:{\r\n        color:\"red\",\r\n        boxShadow:\"1px 2px 3px 4px green\"\r\n    }\r\n}\r\n\r\nexport const commonEvent={\r\n    move(){\r\n    console.log(\"这是鼠标移动事件\")\r\n    },\r\n    touch(){\r\n        console.log(\"这是touch事件\")\r\n    }\r\n}\r\n\r\nexport {axios,baseURL} from \"./axios\";\r\n\r\n\r\n\r\nexport function getQuery(search){\r\n\r\n    return url.parse(search,true).query\r\n\r\n}\r\n//下面一句话相当于   history =this.PaymentResponse.history\r\nexport const history =new createHashHistory();\r\n\r\n","import axios from \"axios\";\r\nimport  {Toast} from 'antd-mobile';\r\nimport  {history}  from \"&\";\r\n// const baseURL=\"http://localhost:4321/\"; \r\nconst baseURL=\"http://47.105.44.9:4321/\"; \r\n\r\nlet token=\"\"\r\n// const baseURL=\"http://47.105.44.9:1234/\";   //http://localhost:1234/vue/movie\r\n// axios.defaults.baseURL = 'https://api.example.com';  //设置基路径\r\n axios.defaults.baseURL=baseURL;\r\n axios.defaults.headers.common['token'] =token;   //设置token AUTH_TOKEN  将token设置到请求头\r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';//将键值对的参数用&连接起来，如果有空格，将空格转换为+加号；有特殊符号，将特殊符号转换为ASCII HEX值\r\n\r\nexport  function loadingToast(msg,time) {\r\n    msg=msg||\"正在请求\";\r\n    time=time||1;\r\n    Toast.hide();  //先清空\r\n    Toast.loading(msg, time, () => {\r\n        // console.log('加载完成 !!!');\r\n      });\r\n  }\r\n\r\n//失败\r\n export function fail(msg) {\r\n    Toast.hide();  //先清空\r\n    Toast.fail(msg, 1);\r\n  } \r\n//网络原因\r\n  export function offline(msg) {\r\n    Toast.offline(msg, 1);\r\n  }\r\n\r\n//  请求成功\r\nexport  function success(msg) {\r\n    Toast.success(msg, 1);\r\n  }\r\n  \r\n//请求之前拦截   //interceptors拦截器  \r\naxios.interceptors.request.use(function (config) {\r\n    // Do something before request is sent 在发送请求之前做些什么\r\n    // console.log(\"进入请求之前拦截\");\r\n     // 配置动画\r\n     loadingToast();\r\n      token=sessionStorage.token?sessionStorage.token:\"\";\r\n    //  //设置请求头\r\n      config.headers['token']=token;  \r\n      //前端 得到 token 会把这个 token (存储到sessionStorage ) 配置 请求头 里面 request.headers.token = token  \r\n\r\n     return config;\r\n  }, function (error) {\r\n    // Do something with request error  处理请求错误\r\n    offline(\"请求失败,网络异常\")\r\n    return Promise.reject(error);\r\n  });\r\n\r\n//请求之后响应拦截\r\n  axios.interceptors.response.use(function (response) {\r\n    // Do something with response data    对响应数据做些什么\r\n    // console.log(\"进入请求之后拦截\");\r\n    console.log(response);\r\n    if(response.data.code==\"3000\"){\r\n       //  router.push({name:'login',query:{active:'login'}})\r\n       history.push(\"/login\");\r\n  }\r\n     // type  不存在    success\r\n    // type = 0  fail\r\n    // type = 1  success \r\n    //设置不同请求type类型下的数据\r\n    if(!!response.data.type){\r\n      success(response.data.msg);\r\n    }else{\r\n      if(response.data.type==0){\r\n        fail(response.data.msg);\r\n      }else{\r\n        success(response.data.msg);\r\n      }\r\n      \r\n    }\r\n    return response;\r\n  }, function (error) {\r\n    // Do something with response error   //处理响应错误\r\n    fail(\"响应失败,服务异常\")\r\n    return Promise.reject(error);\r\n  });\r\n\r\n  export {axios,baseURL} //模块暴露\r\n","import \"./index.scss\";\r\n//NavBar 导航栏\r\n//头部组件 Head\r\nimport React, { Component } from \"react\";\r\n//ActionSheet 动作面板\r\n//从底部弹出的模态框，提供和当前场景相关的 2 个以上的操作动作，也支持提供标题和描述。内置固定的展示样式、不支持特别灵活的修改。\r\n//Popover气泡\r\nimport { Popover, NavBar, Icon,ActionSheet } from 'antd-mobile';\r\n\r\nimport { history } from \"&\";\r\n\r\nexport default class Head extends Component {\r\n\r\n    //自定义函数\r\n    handelGoBack(show) {\r\n        if (show) {\r\n            // history.go(-1);\r\n            history.goBack();\r\n        }\r\n\r\n    }\r\n   \r\n    //跳搜索\r\n    handelGoSearch() {\r\n        history.push(\"/search\");  //去搜索\r\n    }\r\n    render() {\r\n        const {\r\n            title,\r\n            show,\r\n            serach\r\n        } = this.props\r\n        // console.log(this.props);\r\n        // console.log(sessionStorage.token);\r\n        var tokenflage=sessionStorage.token;\r\n        // console.log(tokenflage);\r\n        // console.log(this.history);\r\n        return (\r\n            <NavBar\r\n                mode=\"light\"\r\n                className=\"navbar\"\r\n                icon={show && <Icon type=\"left\" />}\r\n                // 主要是返回\r\n                onLeftClick={() => this.handelGoBack(show)}\r\n\r\n                rightContent={[\r\n                    !serach && <Icon onClick={this.handelGoSearch.bind(this)} key=\"0\" type=\"search\" style={{ marginRight: '16px' }} />,\r\n                    !tokenflage&&<Pop scan={this.props.scan} login={this.props.login } key={1} />,\r\n                ]}\r\n            >{title}</NavBar>\r\n        )\r\n    }\r\n}\r\n\r\nconst Item = Popover.Item;\r\nconst myImg = src => <img src={`https://gw.alipayobjects.com/zos/rmsportal/${src}.svg`} className=\"am-icon am-icon-xs\" alt=\"\" />;\r\n\r\nclass Pop extends  Component {\r\n    state = {\r\n        visible: false,\r\n        selected: '',\r\n    };\r\n    handleVisibleChange=(visible)=>{\r\n        this.setState({\r\n            visible\r\n        })\r\n\r\n    }\r\n    //气泡里面选择跳转的函数\r\n    onSelect = (opt) => {\r\n        // console.log(opt.props.value);\r\n        this.setState({\r\n          visible: false,\r\n          selected: opt.props.value,\r\n        });\r\n\r\n        if(opt.props.value==\"login\"){\r\n            history.push(\"/login\");\r\n        }else if(opt.props.value==\"scan\"){\r\n            history.push(\"/scan\");\r\n        }else{\r\n            this.showActionSheet();\r\n        }\r\n    }\r\n    showActionSheet = () => {\r\n        const BUTTONS = ['拍照', '从手机相册选择', '使用相机拍照', '删除', '取消'];\r\n        ActionSheet.showActionSheetWithOptions({\r\n          options: BUTTONS,\r\n          cancelButtonIndex: BUTTONS.length - 1,\r\n          destructiveButtonIndex: BUTTONS.length - 2,\r\n          // title: 'title',\r\n          message: '请注意查看',\r\n          maskClosable: true,\r\n          'data-seed': 'logId',\r\n          wrapProps:{\r\n            onTouchStart: e => e.preventDefault(),\r\n          }\r\n        },\r\n        (buttonIndex) => {\r\n          console.log(buttonIndex)\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            scan,\r\n            login\r\n        }=this.props\r\n        return (\r\n            <Popover mask\r\n                overlayClassName=\"fortest\"\r\n                overlayStyle={{ color: 'currentColor' }}\r\n                visible={this.state.visible}\r\n                overlay={[\r\n                    // (!scan&&<Item key=\"4\" value=\"scan\" icon={myImg('tOtXhkIWzwotgGSeptou')} data-seed=\"logId\">扫一扫</Item>),\r\n                    // (<Item key=\"5\" value=\"photo\" icon={myImg('PKAgAqZWJVNwKsAJSmXd')} style={{ whiteSpace: 'nowrap' }}>拍照</Item>),\r\n                    (!login&&<Item key=\"6\" value=\"login\" icon={myImg('uQIYTFeRrjPELImDRrPt')}>\r\n                        <span style={{ marginRight: 5 }}>登录</span>\r\n                    </Item>),\r\n                ]}\r\n                align={{\r\n                    overflow: { adjustY: 0, adjustX: 0 },\r\n                    offset: [-10, 0],\r\n                }}\r\n                onVisibleChange={this.handleVisibleChange}\r\n                onSelect={this.onSelect}\r\n            >\r\n                \r\n                    <Icon type=\"ellipsis\" />\r\n               \r\n            </Popover>\r\n        )\r\n    }\r\n}\r\n","import {axios} from \"&\";\r\n\r\n\r\n//得到首页轮播图的异步数据\r\nexport async function getBanner({url,cb}){\r\n    const res= await axios.get(url)\r\n    return{\r\n        type:\"getBanner\",\r\n        payload:res.data.result\r\n    }\r\n} \r\n//得到手机号\r\nexport async function getMobile({url}){\r\n    const res= await axios.post(url)\r\n    return{\r\n        type:\"changeUser\",\r\n        payload:{\r\n          mobile:  res.data.result\r\n        }\r\n    }\r\n} \r\n//得到用户的数据\r\nexport  const changeUser=(payload)=>{\r\n      return{\r\n          type:\"changeUser\",\r\n          payload\r\n      }\r\n}\r\n//得到首页中间轮播图的异步数据\r\nexport async function getMiddleBanner({url,cb}){\r\n    const res= await axios.get(url)\r\n    return{\r\n        type:\"getMiddleBanner\",\r\n        payload:res.data.result\r\n    }\r\n} \r\n//获取品牌热卖图标\r\nexport async function getBrandbanner({url,cb}){\r\n    const res=await axios.get(url);\r\n\r\n    return {\r\n        type:\"getBrandbanner\",\r\n        payload:res.data.result\r\n    }\r\n}\r\n//获取中间小图标\r\nexport async function getSmallbanner({url,cb}){\r\n    const res =await axios.get(url);\r\n    return {\r\n        type:\"getSmallbanner\",\r\n        payload:res.data.result\r\n    }\r\n}\r\n//获取noticebar\r\nexport async function getNoticebar({url,cb}){\r\n    const res =await axios.get(url);\r\n    return {\r\n        type:\"getNoticebar\",\r\n        payload:res.data.result\r\n    }\r\n}\r\n//获取首页列表  http://localhost:4321/react/home/indexlist\r\nexport async function getIndexList({url,cb}){\r\n    const res =await axios.get(url);\r\n    return {\r\n        type:\"getIndexList\",\r\n        payload:res.data.result\r\n    }\r\n}\r\n//获取首页列表的详情页\r\nexport async function getIndexDetail({url,params}){\r\n    const res =await axios.get(url,{params});\r\n    return {\r\n        type:\"getIndexDetail\",\r\n        payload:res.data.result\r\n    }\r\n}\r\n\r\n//商品类型\r\nexport async function getGoodsType({url,params}){\r\n    const res =await axios.get(url,{params});\r\n    return {\r\n        type:\"getGoodsType\",\r\n        payload:res.data.result\r\n    }\r\n}\r\n//商品列表\r\nexport async function getGoodsList({url,params}){\r\n    const res =await axios.get(url,{params});\r\n    return {\r\n        type:\"getGoodsList\",\r\n        payload:res.data.result\r\n    }\r\n}\r\n\r\n//得到列表页的详情\r\nexport async function getListDetail({url,params}){\r\n    const res =await axios.get(url,{params});\r\n    return {\r\n        type:\"getListDetail\",\r\n        payload:res.data.result\r\n    }\r\n}\r\n//根据长标题短标题以及描述拿到搜索结果\r\nexport async function getSearchDetail({url,params}){\r\n    const res =await axios.get(url,{params});\r\n    // console.log(params);\r\n    return{\r\n        type:\"getSearchDetail\",\r\n        payload:res.data.result\r\n    }\r\n}\r\n\r\n//点击按钮加入购物车\r\n\r\nexport async function addShoppingCar({url,params}){\r\n    const res =await axios.get(url,{params});\r\n    console.log(params);\r\n    return {\r\n        type:\"addShoppingCar\",\r\n        payload:res.data.result\r\n    }\r\n}\r\n\r\n//显示购物车商品信息\r\nexport async function showShoppingCarInfo({url,params}){\r\n    const res=await axios.get(url,{params});\r\n    console.log(params);\r\n\r\n    return {\r\n        type:\"showShoppingCarInfo\",\r\n        payload:res.data.result\r\n    }\r\n}\r\n\r\n//反转商品列表页数据实现下拉刷新\r\nexport  function ChangeGoodListReverse(){\r\n     return {\r\n         type:\"ChangeGoodListReverse\"\r\n     }\r\n}\r\n//反转数据结构实现首页的列表页下拉刷新\r\nexport function ChangeIndexListReverse(){\r\n    return {\r\n        type:\"ChangeIndexListReverse\"\r\n    }\r\n}\r\n//反转搜索列表页的数据结构实现前端页面的前端刷新\r\nexport function ChangeSerchListReverse(){\r\n    return {\r\n        type:\"ChangeSerchListReverse\"\r\n    }\r\n}\r\n\r\n"],"sourceRoot":""}