(this["webpackJsonpmy-react-project"]=this["webpackJsonpmy-react-project"]||[]).push([[24],{374:function(e,t,n){},487:function(e,t,n){"use strict";n.r(t);n(91);var a,r=n(92),o=n.n(r),c=(n(75),n(76)),s=n.n(c),i=(n(249),n(250)),u=n.n(i),l=(n(172),n(173)),p=n.n(l),d=(n(100),n(101)),f=n.n(d),h=n(13),g=n(14),m=n(16),y=n(15),v=n(17),b=(n(195),n(196)),w=n.n(b),x=(n(374),n(0)),k=n.n(x),E=n(68),C=n(62),j=n(26),S=n(87),O=w.a.alert,I=function(e){var t=O("\u63d0\u793a","\u60a8\u5373\u5c06\u53bb\u8d2d\u7269\u8f66\u9875\u9762",[{text:"\u53d6\u6d88",onPress:function(){return console.log("\u53d6\u6d88\u8df3\u8f6c")},style:"default"},{text:"\u786e\u8ba4",onPress:function(){return C.c.push("/main/shopcar")}}]);setTimeout((function(){console.log("auto close"),t.close()}),5e5)},R=Object(j.b)((function(e){return{indexdetail:e.getIn(["data","indexdetail"]),mobile:e.getIn(["user","mobile"]),gotoshoppingcar:e.getIn(["data","gotoshoppingcar"])}}))(a=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(m.a)(this,Object(y.a)(t).call(this,e))).changeCount=function(e){n.setState({count:e})},n.collect=function(){C.a.post("/react/collect",{good:n.state.good[0],goodsid:n.props.match.params.goodsid,tag:1}).then((function(e){}))},n.addShoppingCar=function(){C.a.post("/react/addshoppingcar",{count:n.state.count,good:n.state.good[0],goodsid:n.props.match.params.goodsid}).then((function(e){console.log(e)}))},n.state={good:[],goodsId:"",count:1},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.goodsid;C.a.get("/react/classfily/detail",{params:{goodsid:t}}).then((function(t){console.log(t),e.setState({good:t.data.result})})),this.props.mobile||this.props.dispatch(Object(S.k)({url:"/react/getMobile"}))}},{key:"render",value:function(){var e=this,t=this.props,n=(t.item,t.match,t.location),a=(t.detail,t.dispatch,t.mobile,t.indexdetail,t.gotoshoppingcar,this.state.good);return k.a.createElement("div",null,k.a.createElement(E.a,{title:new URLSearchParams(n.search).get("title").slice(0,12),style:{color:"#ffffff"},show:!0}),k.a.createElement("div",{className:"detailbox"},a.map((function(t,n){return k.a.createElement("div",{key:n},k.a.createElement(o.a,{size:"lg"},k.a.createElement(f.a,{size:"lg"}),k.a.createElement(p.a,null,k.a.createElement(p.a.Header,{extra:k.a.createElement("span",null,"\u52b5\u540eRMB: \xa5",t.jiage),title:t.d_title}),k.a.createElement(p.a.Body,null,k.a.createElement("p",null,t.title),k.a.createElement("div",null,k.a.createElement("img",{style:{width:"100%",height:"4rem"},src:t.pic,alt:""}))),k.a.createElement(p.a.Footer,{content:"\u597d\u8d27",extra:k.a.createElement("div",{style:{backgroundColor:"red",color:"#CCFF99",borderRadius:"50%",width:"0.8rem",height:"0.8rem",lineHeight:"0.8rem",textAlign:"center",marginLeft:"2rem"},onClick:e.collect},"\u6536\u85cf")})),k.a.createElement(f.a,{size:"lg"}),k.a.createElement("div",null,"\u8d2d\u4e70\u6570\u91cf:",k.a.createElement(u.a,{style:{width:"50%",minWidth:"100px"},showNumber:!0,min:1,value:e.state.count,onChange:e.changeCount})),k.a.createElement(s.a,{type:"primary",style:{backgroundColor:"#CCFF99",color:"#FF6666"},size:"large",onClick:e.addShoppingCar},"\u52a0\u5165\u8d2d\u7269\u8f66"),k.a.createElement(f.a,{size:"lg"}),k.a.createElement(s.a,{type:"warning",size:"large",onClick:I},"\u7acb\u5373\u8d2d\u4e70")))}))))}}]),t}(x.Component))||a;t.default=R},62:function(e,t,n){"use strict";n(86);var a=n(6),r=n(65);n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}));var o=new a.b},65:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return i}));n(77);var a=n(78),r=n.n(a),o=n(69),c=n.n(o);n.d(t,"a",(function(){return c.a}));var s=n(62),i="http://47.105.44.9:4321/",u="";function l(e){r.a.hide(),r.a.fail(e,1)}function p(e){r.a.success(e,1)}c.a.defaults.baseURL=i,c.a.defaults.headers.common.token=u,c.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",c.a.interceptors.request.use((function(e){var t,n;return t=t||"\u6b63\u5728\u8bf7\u6c42",n=n||1,r.a.hide(),r.a.loading(t,n,(function(){})),u=sessionStorage.token?sessionStorage.token:"",e.headers.token=u,e}),(function(e){var t;return t="\u8bf7\u6c42\u5931\u8d25,\u7f51\u7edc\u5f02\u5e38",r.a.offline(t,1),Promise.reject(e)})),c.a.interceptors.response.use((function(e){return console.log(e),"3000"==e.data.code&&s.c.push("/login"),e.data.type?p(e.data.msg):0==e.data.type?l(e.data.msg):p(e.data.msg),e}),(function(e){return l("\u54cd\u5e94\u5931\u8d25,\u670d\u52a1\u5f02\u5e38"),Promise.reject(e)}))},68:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n(80);var a=n(81),r=n.n(a),o=(n(82),n(83)),c=n.n(o),s=(n(84),n(85)),i=n.n(s),u=(n(71),n(72)),l=n.n(u),p=n(13),d=n(14),f=n(16),h=n(15),g=n(17),m=(n(70),n(0)),y=n.n(m),v=n(62),b=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"handelGoBack",value:function(e){e&&v.c.goBack()}},{key:"handelGoSearch",value:function(){v.c.push("/search")}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.show,r=t.serach,o=sessionStorage.token;return y.a.createElement(i.a,{mode:"light",className:"navbar",icon:a&&y.a.createElement(l.a,{type:"left"}),onLeftClick:function(){return e.handelGoBack(a)},rightContent:[!r&&y.a.createElement(l.a,{onClick:this.handelGoSearch.bind(this),key:"0",type:"search",style:{marginRight:"16px"}}),!o&&y.a.createElement(x,{scan:this.props.scan,login:this.props.login,key:1})]},n)}}]),t}(m.Component),w=c.a.Item,x=function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={visible:!1,selected:""},n.handleVisibleChange=function(e){n.setState({visible:e})},n.onSelect=function(e){n.setState({visible:!1,selected:e.props.value}),"login"==e.props.value?v.c.push("/login"):"scan"==e.props.value?v.c.push("/scan"):n.showActionSheet()},n.showActionSheet=function(){var e=["\u62cd\u7167","\u4ece\u624b\u673a\u76f8\u518c\u9009\u62e9","\u4f7f\u7528\u76f8\u673a\u62cd\u7167","\u5220\u9664","\u53d6\u6d88"];r.a.showActionSheetWithOptions({options:e,cancelButtonIndex:e.length-1,destructiveButtonIndex:e.length-2,message:"\u8bf7\u6ce8\u610f\u67e5\u770b",maskClosable:!0,"data-seed":"logId",wrapProps:{onTouchStart:function(e){return e.preventDefault()}}},(function(e){console.log(e)}))},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this.props,n=(t.scan,t.login);return y.a.createElement(c.a,{mask:!0,overlayClassName:"fortest",overlayStyle:{color:"currentColor"},visible:this.state.visible,overlay:[!n&&y.a.createElement(w,{key:"6",value:"login",icon:(e="uQIYTFeRrjPELImDRrPt",y.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/".concat(e,".svg"),className:"am-icon am-icon-xs",alt:""}))},y.a.createElement("span",{style:{marginRight:5}},"\u767b\u5f55"))],align:{overflow:{adjustY:0,adjustX:0},offset:[-10,0]},onVisibleChange:this.handleVisibleChange,onSelect:this.onSelect},y.a.createElement(l.a,{type:"ellipsis"}))}}]),t}(m.Component)},70:function(e,t,n){},87:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"k",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"j",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"n",(function(){return p})),n.d(t,"l",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"g",(function(){return g})),n.d(t,"m",(function(){return m})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return b}));var a=n(73),r=n.n(a),o=n(62);function c(e){var t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.url,e.cb,a.next=3,r.a.awrap(o.a.get(t));case 3:return n=a.sent,a.abrupt("return",{type:"getBanner",payload:n.data.result});case 5:case"end":return a.stop()}}))}function s(e){var t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.url,a.next=3,r.a.awrap(o.a.post(t));case 3:return n=a.sent,a.abrupt("return",{type:"changeUser",payload:{mobile:n.data.result}});case 5:case"end":return a.stop()}}))}var i=function(e){return{type:"changeUser",payload:e}};function u(e){var t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.url,e.cb,a.next=3,r.a.awrap(o.a.get(t));case 3:return n=a.sent,a.abrupt("return",{type:"getMiddleBanner",payload:n.data.result});case 5:case"end":return a.stop()}}))}function l(e){var t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.url,e.cb,a.next=3,r.a.awrap(o.a.get(t));case 3:return n=a.sent,a.abrupt("return",{type:"getBrandbanner",payload:n.data.result});case 5:case"end":return a.stop()}}))}function p(e){var t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.url,e.cb,a.next=3,r.a.awrap(o.a.get(t));case 3:return n=a.sent,a.abrupt("return",{type:"getSmallbanner",payload:n.data.result});case 5:case"end":return a.stop()}}))}function d(e){var t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.url,e.cb,a.next=3,r.a.awrap(o.a.get(t));case 3:return n=a.sent,a.abrupt("return",{type:"getNoticebar",payload:n.data.result});case 5:case"end":return a.stop()}}))}function f(e){var t,n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.url,e.cb,a.next=3,r.a.awrap(o.a.get(t));case 3:return n=a.sent,a.abrupt("return",{type:"getIndexList",payload:n.data.result});case 5:case"end":return a.stop()}}))}function h(e){var t,n,a;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.url,n=e.params,c.next=3,r.a.awrap(o.a.get(t,{params:n}));case 3:return a=c.sent,c.abrupt("return",{type:"getGoodsType",payload:a.data.result});case 5:case"end":return c.stop()}}))}function g(e){var t,n,a;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.url,n=e.params,c.next=3,r.a.awrap(o.a.get(t,{params:n}));case 3:return a=c.sent,c.abrupt("return",{type:"getGoodsList",payload:a.data.result});case 5:case"end":return c.stop()}}))}function m(e){var t,n,a;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.url,n=e.params,c.next=3,r.a.awrap(o.a.get(t,{params:n}));case 3:return a=c.sent,c.abrupt("return",{type:"getSearchDetail",payload:a.data.result});case 5:case"end":return c.stop()}}))}function y(){return{type:"ChangeGoodListReverse"}}function v(){return{type:"ChangeIndexListReverse"}}function b(){return{type:"ChangeSerchListReverse"}}}}]);
//# sourceMappingURL=24.2304bcb2.chunk.js.map